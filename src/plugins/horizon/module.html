<div  ng-controller='HorizonCtrl'>

  <div class="graph-wrapper">

      <div class="graph-legend-wrapper"
           ng-if="panel.legend.show"
           ng-include="'plugins/horizon/legend.html'"
           ng-style="{'top': (panel.horizon.horizonHeight-17)+'px' }"
           style="position: relative; z-index: 10;">
      </div>

      <div class="graph-canvas-wrapper">

		<div ng-if="datapointsWarning" class="datapoints-warning">
			<span class="small" ng-show="!datapointsCount">
				No datapoints <tip>No datapoints returned from metric query</tip>
			</span>
			<span class="small" ng-show="datapointsOutside">Datapoints outside time range <tip>Can be caused by timezone mismatch between browser and graphite server</tip></span>
		</div>

        <div grafana-horizon class="histogram-chart">
        </div>

      </div>
  </div>

  <div class="clearfix"></div>

	<div style="margin-top: 30px" ng-if="editMode">
		<div class="dashboard-editor-header">
			<div class="dashboard-editor-title">
				<i class="icon icon-bar-chart"></i>
				Horizon
			</div>

			<div ng-model="editor.index" bs-tabs>
				<div ng-repeat="tab in panelMeta.editorTabs" data-title="{{tab.title}}">
				</div>
			</div>
		</div>

		<div class="dashboard-editor-body">
			<div ng-repeat="tab in panelMeta.editorTabs" ng-if="editor.index === $index">
				<div ng-include src="tab.src"></div>
			</div>
		</div>
	</div>
</div>
